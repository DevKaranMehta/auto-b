{% extends "admin/base.html" %}

{% block title %}Settings{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Platform Settings</h1>
    <p class="page-subtitle">Configure your blockchain news platform</p>
</div>

<div class="card">
    <div class="card-header">
        <h3>⚙️ Configuration Settings</h3>
    </div>
    <div class="card-body">
        <form action="{{ url_for('admin_settings') }}" method="POST">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
                
                <!-- General Settings -->
                <div>
                    <h4 style="margin-bottom: 20px; color: #333;">General Settings</h4>
                    
                    <div class="form-group">
                        <label class="form-label">Site Name</label>
                        <input type="text" name="site_name" class="form-input" 
                               value="{{ settings.get('site_name', 'Blockchain Latest News') }}">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Site Description</label>
                        <textarea name="site_description" class="form-textarea" rows="3">{{ settings.get('site_description', 'Professional blockchain and cryptocurrency news platform') }}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Posts per Page</label>
                        <input type="number" name="posts_per_page" class="form-input" 
                               value="{{ settings.get('posts_per_page', '10') }}" min="1" max="50">
                    </div>
                </div>

                <!-- AI Settings -->
                <div>
                    <h4 style="margin-bottom: 20px; color: #333;">AI Configuration</h4>
                    
                    <div class="form-group">
                        <label class="form-label">OpenAI API Key</label>
                        <input type="password" name="openai_api_key" class="form-input" 
                               value="{{ settings.get('openai_api_key', '') }}" placeholder="sk-...">
                        <small style="color: #666;">Required for AI content generation</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Content Freshness (days)</label>
                        <input type="number" name="content_freshness_days" class="form-input" 
                               value="{{ settings.get('content_freshness_days', '7') }}" min="1" max="30">
                        <small style="color: #666;">Generate content about topics from last N days</small>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" name="ai_generation_enabled" 
                                   {% if settings.get('ai_generation_enabled', 'true') == 'true' %}checked{% endif %}>
                            <span>Enable AI content generation</span>
                        </label>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 40px; padding-top: 30px; border-top: 1px solid #f0f0f0;">
                <button type="submit" class="btn btn-primary" style="padding: 15px 40px; font-size: 1.1em;">
                    💾 Save Settings
                </button>
            </div>
        </form>
    </div>
</div>

<div class="card" style="margin-top: 30px;">
    <div class="card-header">
        <h3>📊 Platform Status</h3>
    </div>
    <div class="card-body">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <div style="font-size: 2em; color: #28a745; margin-bottom: 10px;">✅</div>
                <div style="font-weight: 600;">Database</div>
                <div style="color: #666; font-size: 0.9em;">Connected</div>
            </div>
            
            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <div style="font-size: 2em; color: #ffc107; margin-bottom: 10px;">🤖</div>
                <div style="font-weight: 600;">AI System</div>
                <div style="color: #666; font-size: 0.9em;">
                    {{ 'Ready' if settings.get('openai_api_key') else 'Setup Required' }}
                </div>
            </div>
            
            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <div style="font-size: 2em; color: #17a2b8; margin-bottom: 10px;">🔒</div>
                <div style="font-weight: 600;">Security</div>
                <div style="color: #666; font-size: 0.9em;">SSL Enabled</div>
            </div>
            
            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <div style="font-size: 2em; color: #6f42c1; margin-bottom: 10px;">📱</div>
                <div style="font-weight: 600;">Mobile</div>
                <div style="color: #666; font-size: 0.9em;">Optimized</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
